<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Jam Academy</title>
    <link rel="stylesheet" href="css/output.css">
    <scrip src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="img/yashxjajHJBhashda21.png" type="image/png">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.8.1/flowbite.min.css" rel="stylesheet" />

</head>

<body>
    <nav class="bg-white dark:bg-gray-900 fixed w-full z-20 top-0 left-0 border-b border-gray-200 dark:border-gray-600">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
            <a href="https://flowbite.com/" class="flex items-center">
                <img src="img/yashxjajHJBhashda21.png" class="h-8 mr-3" alt="HMTI Logo">
                <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">CJA</span>
            </a>
            <div class="flex md:order-2">
                <button type="button"
                    class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center mr-3 md:mr-0 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"><a href="https://www.linkedin.com/in/ricky-primayuda-putra-735220259/">LinkedIn</a></button>
                <button data-collapse-toggle="navbar-sticky" type="button"
                    class=" p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
                    aria-controls="navbar-sticky" aria-expanded="false">
                    <span class="sr-only">Open main menu</span>
                    <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 17 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M1 1h15M1 7h15M1 13h15" />
                    </svg>
                </button>
            </div>
            <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1" id="navbar-sticky">
                <ul
                    class="flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
                    <li>
                        <a href="index.html"
                            class="block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-blue-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700"
                            aria-current="page">Installasi</a>
                    </li>
                    <li>
                        <a href="model.html"
                            class="block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-blue-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">Membuat Model dan Migration</a>
                    </li>
                    <li>
                        <a href="crud.html"
                            class="block py-2 pl-3 pr-4 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500">CRUD</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="pt-8 pb-16 lg:pt-16 lg:pb-24 bg-white dark:bg-gray-900 antialiased">
        <div class="flex justify-between px-4 mx-auto max-w-screen-xl ">
            <article
                class="mx-auto w-full max-w-2xl format format-sm sm:format-base lg:format-lg format-blue dark:format-invert">
                <header class="mb-4 lg:mb-6 not-format">
                    <div class="flex items-center mt-8 not-italic">
                        <img class="mr-4 w-16 rounded-full" src="img/mes87876261.png" alt="Ricky Primayuda Putra">
                        <div>
                            <a href="#" rel="author" class="text-xl font-bold text-gray-900 dark:text-white">Ricky
                                Primayuda Putra</a>
                            <p class="text-base text-gray-500 dark:text-gray-400">Head of Software Department HMTI</p>
                        </div>
                    </div>

                        <div id="accordion-color" data-accordion="collapse" data-active-classes="bg-blue-100 dark:bg-gray-800 text-blue-600 dark:text-white">
                            <h2 id="accordion-color-heading-1">
                              <button type="button" class="flex items-center justify-between w-full p-5 font-medium text-left text-gray-500 border border-b-0 border-gray-200 rounded-t-xl focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-800 dark:border-gray-700 dark:text-gray-400 hover:bg-blue-100 dark:hover:bg-gray-800" data-accordion-target="#accordion-color-body-1" aria-expanded="false" aria-controls="accordion-color-body-1">
                                <span>Daftar isi</span>
                                <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
                                </svg>
                              </button>
                            </h2>
                            <div id="accordion-color-body-1" class="hidden" aria-labelledby="accordion-color-heading-1">
                              <div class="p-5 border border-b-0 border-gray-200 dark:border-gray-700 dark:bg-gray-900">
                                <p class="mb-2 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"><a href="#la-1">Langkah 1 - Membuat Controller Post</a></p>
                                <p class="mb-2 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"><a href="#la-2">Langkah 2 - Membuat Route Post</a></p>
                                <p class="mb-2 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"><a href="#la-3">Langkah 3 - Membuat View dan Menampilkan Data</a></p>
                                <p class="mb-2 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"><a href="#la-4">Langkah 4 - Menambahkan Field di Migration</a></p>
                                <p class="mb-2 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"><a href="#la-5">Langkah 5 - Konfigurasi Mass Assignment</a></p>
                                <p class="mb-2 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"><a href="#la-6">Langkah 6 - Menjalankan Migration</a></p>
                              </div>
                            </div>
                        </div>
                        <br>
                    <h1
                        class="text-center text-3xl font-extrabold leading-tight text-gray-900 lg:mb-6 lg:text-4xl dark:text-white">
                        Membuat Create Read Update Delete</h1>
                </header>
                <p>Selanjutnya kita akan belajar bagaimana cara Menambahkan data, Menampilkan data, Meng-update data, Menghapus data dari database di dalam <b>Laravel</b>. Dan untuk UI atau User Interface
                yang akan kita gunakan adalah <b>Bootstrap</b>, sehingga tampilan nya bisa lebih bagus dan cepat dibandingkan kita harus membuat nya secara manual.</p>
                <!-- Controller -->
                <h1 id="la-1" class="text-3xl leading-tight text-gray-900 lg:mb-6 lg:text-4xl dark:text-white">Langkah 1 - Membuat Controller Post</h1>
                <p>Hal pertama yang harus kita lakukan adalah membuat <em>Controller-nya</em> terlebih dahulu. <em>Controller</em> digunakan untuk menghubungkan antara <em>Model</em> dengan <em>View</em> dan biasanya <em>Controller</em>
                akan berisi logika-logika dari aplikasi yang dibangun.</p>
                <p>Silahkan jalankan perintah berikut ini di dalam terminal/CMD dan pastikan sudah berada di dalam project <b>Laravel</b>-nya.</p>
                <pre class="bg-black"><code class="language-html text-white">php artisan <span class="text-yellow-300">make</span>:controller PostController</code></pre>
                <p>Jika perintah di atas berhasil dijalankan, maka kita akan mendapatkan file controller baru yang ada berada di dalam folder</p>
                <p><span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">app/Http/Controllers/
                    PostController.php</span></p>
                <p>Silahkan buka file tersebut dan ubah kode-nya menjadi seperti berikut ini.</p>
                <pre class="bg-black"><code class="language-html text-white">?php

namespace App\Http\Controllers;

//import Model "Post
use App\Models\Post;

//return type View
use Illuminate\View\View;

use Illuminate\Http\Request;

class PostController extends Controller
{
    /**
     * index
     *
     * @return View
     */
    public function index(): View
    {
        //get posts
        $posts = Post::latest()->paginate(5);

        //render view with posts
        return view('posts.index', compact('posts'));
    }
}</code></pre>
                <p>Dari perubahan kode di atas, pertama kita import <em>Model</em> <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">Post</span>
                di dalam <em>controller</em>.</p>
                <pre class="bg-black"><code class="language-html text-white">//import Model "Post
use App\Models\Post;</code></pre>
                <p>Kemudian kita import return Type <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">View</span>.</p>
                <pre class="bg-black"><code class="language-html text-white">//return type View
use Illuminate\View\View;</code></pre>
                <p>Setelah itu, di dalam <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">PostController</span> kita membuat method baru dengan nama <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">index</span>.</p>
                <pre class="bg-black"><code class="language-html text-white">public function index(): View
{

    //...
    
}</code></pre>
                <p>Di dalam <em>method</em> tersebut, pertama kita membuat <em>variable</em> baru dengan nama <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">$posts</span>
                dan berisi <em>Model</em> <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">Post</span> yang mengambil data dari database.</p>
                <p>Kemudian kita memanggil <em>method</em> <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">latest</span> yang berfungsi untuk mengurutkan data yang akan di tampilkan berdasarkan yang paling terbaru dan membatasi data yang akan ditampilkan menggunakan <em>method</em>
                    <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">paginate</span> sejumlah 5.</p>
                <pre class="bg-black"><code class="language-html text-white">//get posts
$posts = Post::latest()->paginate(5);</code></pre>
                <p>Setelah data berhasil ditampung dalam di dalam <em>variable</em> tersebut ke dalam view menggunakan method
                    <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">compact</span>,</p>
                <pre class="bg-black"><code class="language-html text-white">//render view with posts
return view('posts.index', compact('posts'));</code></pre>
                <p>Di atas kita melakukan render ke dalam view <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">resources/posts/index.blade.php</span>
                dengan mengirimkan <em>variable</em> <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">$posts</span>. Jika teman-teman cek sekarang, file view
                tersebut masih belum ada, karena kita akan membuatnya setelah ini.</p>
                <!-- End Controller -->
                <!-- Route -->
                <h1 id="la-2" class="text-3xl leading-tight text-gray-900 lg:mb-6 lg:text-4xl dark:text-white">Langkah 2 - Membuat Route Post</h1>
                <p>Agar bisa mengakses <em>controller</em> melalui URL <em>browser</em>, maka kita perlu membuatkan route-nya terlebih dahulu. Jadi konsepnya kita akan memanggil
                route, kemudian route memanggil <em>controller</em> dan <em>controller</em> memanggil view.</p>
                <p>Kurang lebih nya alur nya seperti berikut ini.</p>
                <img src="img/nhsahuywgdsb.png">
                <p>Untuk membuat Route, silahkan buka file <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">routes/web.php</span>, kemudian ubah semua kode-nya menjadi seperti berikut ini.</p>
                <pre class="bg-black"><code class="language-html text-white">?php

use Illuminate\Support\Facades\Route;

//route resource
Route::resource('/posts', \App\Http\Controllers\PostController::class);</code></pre>
                <p>Dari perubahan kode di atas, kita menambahkan route baru dengan path <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">/posts</span>
                dan jika di perhatikan, kita menggunakan route dengan jenis <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">resource</span>. 
                Artinya apa? yaitu <em>route-route</em> untuk proses <b>CRUD</b> akan di generate secara otomatis oleh <b>Laravel</b>, seperti <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">index</span>, 
                <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">create</span>, <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">store</span>,
                <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">show</span>, <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">edit</span>, 
                <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">update</span>, dan <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">destroy</span>. dibandingkan kita harus membuatnya secara manual satu-persatu.</p>
                <p>Untuk memastikan apakah penambahan route kita berhasil, kita bisa menjalankan perintah berikut ini dalam terminal/CMD dan pastikan sudah berada di dalam project <b>Laravel</b>-nya.</p>
                <pre class="bg-black"><code class="language-html text-white">php artisan route:list</code></pre>
                <!-- End Route -->
                <!-- SHOW DATA -->
                <h1 id="la-3" class="text-3xl leading-tight text-gray-900 lg:mb-6 lg:text-4xl dark:text-white">Langkah 3 - Membuat View dan Menampilkan Data</h1>
                <p>Setelah <em>controller</em> dan route berhasil dibuat, maka sekarang kita akan lanjutkan belajar membuat <em>view</em> yang digunakan untuk menampilkan data.</p>
                <p>Silahkan buat folder baru dengan nama <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">posts</span> di dalam <em>folder</em> <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">resources/views</span>
                , kemudian di dalam folder <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">posts</span> tersebut buatlah file baru dengan nama <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">index.blade.php</span>
                dan masukan kode berikut ini di dalamnya.</p>
                <pre class="bg-black"><code class="language-html text-white">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
    &lt;title&gt;Code Jam Academy&lt;/title&gt;
    &lt;link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"&gt;
    &lt;link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"&gt;
&lt;/head&gt;
&lt;body style="background: lightgray"&gt;

&lt;div class="container mt-5"&gt;
    &lt;div class="row"&gt;
            &lt;div class="col-md-12"&gt;
                &lt;div&gt;
                    &lt;h3 class="text-center my-4"&gt;Code Jam Academy - Laravel 10&lt;/h3&gt;      
                    &lt;hr&gt;
                &lt;/div&gt;
                &lt;div class="card border-0 shadow-sm rounded"&gt;
                    &lt;div class="card-body"&gt;
                        &lt;a href="{{ route('posts.create') }}" class="btn btn-md btn-success mb-3"&gt;TAMBAH POST&lt;/a&gt;
                        &lt;table class="table table-bordered"&gt;
                            &lt;thead&gt;
                              &lt;tr&gt;
                                &lt;th scope="col"&gt;GAMBAR&lt;/th&gt;
                                &lt;th scope="col"&gt;JUDUL&lt;/th&gt;
                                &lt;th scope="col"&gt;CONTENT&lt;/th&gt;
                                &lt;th scope="col"&gt;AKSI&lt;/th&gt;
                              &lt;/tr&gt;
                            &lt;/thead&gt;
                            &lt;tbody&gt;
                              @forelse ($posts as $post)
                                &lt;tr&gt;
                                    &lt;td class="text-center"&gt;
                                        &lt;img src="{{ asset('/storage/posts/'.$post->image) }}" class="rounded" style="width: 150px"&gt;
                                    &lt;/td&gt;
                                    &lt;td&gt;{{ $post->title }}&lt;/td&gt;
                                    &lt;td&gt;{!! $post->content !!}&lt;/td&gt;
                                    &lt;td class="text-center"&gt;
                                        &lt;form onsubmit="return confirm('Apakah Anda Yakin ?');" action="{{ route('posts.destroy', $post->id) }}" method="POST"&gt;
                                            &lt;a href="{{ route('posts.show', $post->id) }}" class="btn btn-sm btn-dark"&gt;SHOW&lt;/a&gt;
                                            &lt;a href="{{ route('posts.edit', $post->id) }}" class="btn btn-sm btn-primary"&gt;EDIT&lt;/a&gt;
                                            @csrf
                                            @method('DELETE')
                                            &lt;button type="submit" class="btn btn-sm btn-danger"&gt;HAPUS&lt;/button&gt;
                                        &lt;/form&gt;
                                    &lt;/td&gt;
                                &lt;/tr&gt;
                              @empty
                                  &lt;div class="alert alert-danger"&gt;
                                      Data Post belum Tersedia.
                                  &lt;/div&gt;
                              @endforelse
                            &lt;/tbody&gt;
                          &lt;/table&gt;  
                          {{ $posts->links() }}
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
            
    &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"&gt;&lt;/script&gt;
    &lt;script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"&gt;&lt;/script&gt;

    &lt;script&gt;
        @if(session()->has('success'))
                
            toastr.success('{{ session('success') }}', 'BERHASIL!'); 

        @elseif(session()->has('error'))

            toastr.error('{{ session('error') }}', 'GAGAL!'); 
                
        @endif
    &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
                <p>Dari penambahan kode di atas, untuk menampilkan data kita bisa menggunakan sintaks <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">@forelse</span>.</p>
                <pre class="bg-black"><code class="language-html text-white">@forelse ($posts as $post)

//tampilkan data
 	
@empty

	//Data Post belum Tersedia.
	
@endforelse</code></pre>
                <p>Kemudian untuk menampilkan pagination, kita bisa memanggil method <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">links</span>,
                Kurang lebih seperti ini.</p>
                <pre class="bg-black"><code class="language-html text-white">{{ $posts->links() }}</code></pre>
                <p>Pada bagian <em>JavaScript</em>, kita menambahkan kondisi untuk memeriksa sebuah session flash, yang nantinya difungsikan untuk menampilkan alert atau notifikasi
                setelah berhasil melakukan proses <em>insert</em>, update, dan delete data. Dan library yang kita gunakan adalah <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">toast.js .</span></p>
                <pre class="bg-black"><code class="language-html text-white">&lt;script&gt;>
    @if(session()->has('success'))

        toastr.success('{{ session('success') }}', 'BERHASIL!'); 

    @elseif(session()->has('error'))

        toastr.error('{{ session('error') }}', 'GAGAL!'); 

    @endif
&lt;script&gt;</code></pre>
                <!-- End SHOW DATA -->
                <!-- TRY -->
                <h1 id="la-4" class="text-3xl leading-tight text-gray-900 lg:mb-6 lg:text-4xl dark:text-white">Langkah 4 - Uji Coba Menampilkan Data</h1>
                <p>Sekarang silahkan jalankan projectnya dengan mengakses <a href="http://localhost:8080/posts">http://localhost:8080/posts</a>
                di dalam <em>browser</em>, jika berhasil maka hasilnya kurang lebih akan seperti ini</p>
                <img src="img/najnwjdsmaw.png">
                <p>Di atas masih menampilkan pesan <span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">Data Posts belum Tersedia</span>
                , itu karena memang kita masih belum memiliki data apapun di <em>table</em><span class="text-yellow-400 dark:text-red-600 bg-gray-600 dark:bg-black rounded-md px-2">posts</span>.</p>
                <!-- ENDTRY -->
            </article>
        </div>
    </main>


    <footer class="bg-gray-50 dark:bg-gray-800 antialiased">
        <div class="p-4 py-6 mx-auto max-w-screen-xl md:p-8 lg:p-10">

            <hr class="my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8">
            <div class="text-center flex items-center justify-center">
                <img src="img/yashxjajHJBhashda21.png" class="w-20 mb-4">
            </div>
            <span class="block text-sm text-center text-gray-500 dark:text-gray-400">© 2023 <a href="#"
                    class="hover:underline">
                    Himpunan Mahasiswa Teknik Informatika™</a>. All Rights Reserved.</span>
        </div>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.8.1/flowbite.min.js"></script>
</body>

</html>